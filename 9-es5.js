function _classCallCheck(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,o){for(var s=0;s<o.length;s++){var n=o[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function _createClass(r,o,s){return o&&_defineProperties(r.prototype,o),s&&_defineProperties(r,s),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{wndL:function(r,o,s){"use strict";s.r(o),s.d(o,"ChangePasswordModule",(function(){return Q}));var n=s("ofXK"),e=s("tyNb"),t=s("3Pt+"),a=s("PCNd"),i=s("Lw2Y"),c=s("fXoL"),d=s("jhN1"),b=s("6uu6"),l=s("4ioC"),f=s("9LzP");function p(r,o){if(1&r&&c.Lb(0,"span",19),2&r){var s=c.ac();c.fc("innerHTML",s.formErrors.old_password,c.tc)}}function m(r,o){if(1&r&&c.Lb(0,"span",19),2&r){var s=c.ac();c.fc("innerHTML",s.formErrors.password,c.tc)}}function u(r,o){if(1&r&&c.Lb(0,"span",19),2&r){var s=c.ac();c.fc("innerHTML",s.formErrors.confirm_password,c.tc)}}var w,h,P=function(r){return{"has-error":r}},v=function(){return["/profile"]},g=function(r){return{"qt-loader qt-loader-mini qt-loader-left":r}},C=((w=function(){function r(o,s,n,e){_classCallCheck(this,r),this.router=o,this.titleService=s,this.authService=n,this.fb=e,this.loadingState=!0,this.formErrors={old_password:"",password:"",confirm_password:"",apierror:""},this.submitAttempt=!1,this.showLoader=!1,this.addForm=e.group({old_password:[null,t.n.compose([t.n.required])],password:[null,t.n.compose([t.n.required])],confirm_password:[null,t.n.compose([t.n.required])]},{validator:i.b.passwordValidation()})}return _createClass(r,[{key:"ngOnInit",value:function(){}},{key:"submitForm",value:function(){var r=this;this.submitAttempt=!0,this.addForm.valid&&(this.showLoader=!0,this.authService.changePassword(this.addForm.value).subscribe((function(o){r.showLoader=!1,r.submitAttempt=!1,o.success?r.router.navigateByUrl("/setting/profile"):o.error.map((function(s){s.hasOwnProperty("old_password")&&(r.formErrors.old_password=s.old_password),s.hasOwnProperty("confirm_password")&&(r.formErrors.confirm_password=s.confirm_password),s.hasOwnProperty("old_password")||s.hasOwnProperty("confirm_password")||(r.formErrors.apierror="* "+o.error)}))}),(function(o){r.showLoader=!1,r.submitAttempt=!1,r.formErrors.apierror="* Server Error"})))}}]),r}()).\u0275fac=function(r){return new(r||w)(c.Kb(e.e),c.Kb(d.d),c.Kb(b.a),c.Kb(t.b))},w.\u0275cmp=c.Eb({type:w,selectors:[["app-change-password"]],decls:40,vars:22,consts:[[1,"content"],[1,"page-header"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"page-content","container-fluid"],[1,"card","strache-card"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"mt-3"],[1,"form-group","row",3,"ngClass"],[1,"control-label","text-md-right","col-md-4","col-lg-3"],[1,"col-md-5"],["type","password","placeholder","Old password",1,"form-control",3,"formControl"],["class","help-block",3,"innerHTML",4,"ngIf"],["type","password","placeholder","New password",1,"form-control",3,"formControl"],["type","password","placeholder","Confirm password",1,"form-control",3,"formControl"],[1,"card-footer","bg-light","text-right"],[1,"btn","btn-secondary",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"ngClass","disabled"],[1,"help-block",3,"innerHTML"]],template:function(r,o){1&r&&(c.Qb(0,"div",0),c.Qb(1,"header",1),c.Qb(2,"div",2),c.Qb(3,"div",3),c.Qb(4,"h1"),c.Ac(5,"Change Password"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(6,"section",4),c.Qb(7,"div",5),c.Qb(8,"form",6),c.Yb("ngSubmit",(function(){return o.submitForm()})),c.Qb(9,"div",7),c.Qb(10,"div",8),c.Qb(11,"div",9),c.Qb(12,"label",10),c.Ac(13,"Old Password "),c.Qb(14,"em"),c.Ac(15,"*"),c.Pb(),c.Pb(),c.Qb(16,"div",11),c.Lb(17,"input",12),c.yc(18,p,1,1,"span",13),c.Pb(),c.Pb(),c.Qb(19,"div",9),c.Qb(20,"label",10),c.Ac(21,"New Password "),c.Qb(22,"em"),c.Ac(23,"*"),c.Pb(),c.Pb(),c.Qb(24,"div",11),c.Lb(25,"input",14),c.yc(26,m,1,1,"span",13),c.Pb(),c.Pb(),c.Qb(27,"div",9),c.Qb(28,"label",10),c.Ac(29,"Confirm Password "),c.Qb(30,"em"),c.Ac(31,"*"),c.Pb(),c.Pb(),c.Qb(32,"div",11),c.Lb(33,"input",15),c.yc(34,u,1,1,"span",13),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(35,"div",16),c.Qb(36,"a",17),c.Ac(37,"Cancel"),c.Pb(),c.Qb(38,"button",18),c.Ac(39,"Submit"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&r&&(c.zb(8),c.fc("formGroup",o.addForm),c.zb(3),c.fc("ngClass",c.jc(13,P,o.formErrors.old_password)),c.zb(6),c.fc("formControl",o.addForm.controls.old_password),c.zb(1),c.fc("ngIf",o.formErrors.old_password),c.zb(1),c.fc("ngClass",c.jc(15,P,o.formErrors.password)),c.zb(6),c.fc("formControl",o.addForm.controls.password),c.zb(1),c.fc("ngIf",o.formErrors.password),c.zb(1),c.fc("ngClass",c.jc(17,P,o.formErrors.confirm_password)),c.zb(6),c.fc("formControl",o.addForm.controls.confirm_password),c.zb(1),c.fc("ngIf",o.formErrors.confirm_password),c.zb(2),c.fc("routerLink",c.ic(19,v)),c.zb(2),c.fc("ngClass",c.jc(20,g,o.showLoader))("disabled",o.showLoader))},directives:[t.o,t.i,l.a,t.d,n.j,t.a,t.h,t.c,f.a,n.l,e.g],encapsulation:2}),w),_=s("Eqhp"),y=[{path:"",component:C}],Q=((h=function r(){_classCallCheck(this,r)}).\u0275mod=c.Ib({type:h}),h.\u0275inj=c.Hb({factory:function(r){return new(r||h)},providers:[b.a],imports:[[n.b,e.h.forChild(y),t.e,t.m,_.a,a.a]]}),h)}}]);